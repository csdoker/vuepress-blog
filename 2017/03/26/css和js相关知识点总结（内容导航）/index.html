<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CSS和JS相关知识点总结（内容导航） | Csdoker&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="欢迎来到我的个人博客，我会在这里记录下关于学习和生活的点点滴滴">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/assets/css/0.styles.8897033b.css" as="style"><link rel="preload" href="/assets/js/app.8e17b9e3.js" as="script"><link rel="preload" href="/assets/js/3.0a4f9110.js" as="script"><link rel="preload" href="/assets/js/1.f0f01502.js" as="script"><link rel="preload" href="/assets/js/13.49582dc5.js" as="script"><link rel="prefetch" href="/assets/js/10.17393f36.js"><link rel="prefetch" href="/assets/js/11.1934fd32.js"><link rel="prefetch" href="/assets/js/12.e6bfb835.js"><link rel="prefetch" href="/assets/js/14.74cd0aaa.js"><link rel="prefetch" href="/assets/js/15.bca3831c.js"><link rel="prefetch" href="/assets/js/16.09a7c274.js"><link rel="prefetch" href="/assets/js/17.5d83d126.js"><link rel="prefetch" href="/assets/js/18.56a7bc98.js"><link rel="prefetch" href="/assets/js/19.38373030.js"><link rel="prefetch" href="/assets/js/20.38800bb9.js"><link rel="prefetch" href="/assets/js/21.522fc923.js"><link rel="prefetch" href="/assets/js/22.76aeae23.js"><link rel="prefetch" href="/assets/js/23.74ae5aaf.js"><link rel="prefetch" href="/assets/js/24.50d53745.js"><link rel="prefetch" href="/assets/js/25.28e2358b.js"><link rel="prefetch" href="/assets/js/26.ca3c5851.js"><link rel="prefetch" href="/assets/js/27.257a92ac.js"><link rel="prefetch" href="/assets/js/28.f1920b40.js"><link rel="prefetch" href="/assets/js/29.97ab19cf.js"><link rel="prefetch" href="/assets/js/30.75404e15.js"><link rel="prefetch" href="/assets/js/31.77795e8a.js"><link rel="prefetch" href="/assets/js/32.fafecfc7.js"><link rel="prefetch" href="/assets/js/33.8ccc60e6.js"><link rel="prefetch" href="/assets/js/34.02068aea.js"><link rel="prefetch" href="/assets/js/35.fc538553.js"><link rel="prefetch" href="/assets/js/36.fed5872c.js"><link rel="prefetch" href="/assets/js/37.e4df2371.js"><link rel="prefetch" href="/assets/js/38.771cc562.js"><link rel="prefetch" href="/assets/js/39.d976f5bc.js"><link rel="prefetch" href="/assets/js/4.817620fb.js"><link rel="prefetch" href="/assets/js/40.0311981b.js"><link rel="prefetch" href="/assets/js/41.3c335108.js"><link rel="prefetch" href="/assets/js/42.95c1740d.js"><link rel="prefetch" href="/assets/js/43.bc648b29.js"><link rel="prefetch" href="/assets/js/44.f5d4ce57.js"><link rel="prefetch" href="/assets/js/45.c84471b5.js"><link rel="prefetch" href="/assets/js/46.02889f54.js"><link rel="prefetch" href="/assets/js/47.bc2ead4b.js"><link rel="prefetch" href="/assets/js/48.c105a712.js"><link rel="prefetch" href="/assets/js/5.8835252c.js"><link rel="prefetch" href="/assets/js/6.45014793.js"><link rel="prefetch" href="/assets/js/7.39d8de43.js"><link rel="prefetch" href="/assets/js/8.44d9e505.js"><link rel="prefetch" href="/assets/js/9.f1171cc2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8897033b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-19557b78><div data-v-19557b78><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-19557b78 data-v-19557b78><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-19557b78 data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Csdoker's Blog</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>csdoker</span>
            
          <span data-v-64685f0e>2015 - </span>
          2020
        </a></span></div></div> <div class="hide" data-v-19557b78><header class="navbar" data-v-19557b78><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpg" alt="Csdoker's Blog" class="logo"> <span class="site-name">Csdoker's Blog</span></a> <div class="links"><!----> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://csdoker.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-home"></i>
  主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/csdoker" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-friend"></i>
      联系
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=758371536&amp;site=qq&amp;menu=yes" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-qq"></i>
  QQ
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://i.loli.net/2020/04/30/x8ILiKaCQYcBJjF.jpg" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-wechat"></i>
  微信
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="mailto:csd758371536@qq.com" class="nav-link external"><i class="iconfont reco-mail"></i>
  邮箱
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-19557b78></div> <aside class="sidebar" data-v-19557b78><div class="personal-info-wrapper" data-v-b038cec6><img src="/avatar.jpg" alt="author-avatar" class="personal-img" data-v-b038cec6> <h3 class="name" data-v-b038cec6>
    csdoker
  </h3> <div class="num" data-v-b038cec6><div data-v-b038cec6><h3 data-v-b038cec6>37</h3> <h6 data-v-b038cec6>Article</h6></div> <div data-v-b038cec6><h3 data-v-b038cec6>31</h3> <h6 data-v-b038cec6>Tag</h6></div></div> <hr data-v-b038cec6></div> <nav class="nav-links"><div class="nav-item"><a href="https://csdoker.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-home"></i>
  主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/csdoker" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-friend"></i>
      联系
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=758371536&amp;site=qq&amp;menu=yes" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-qq"></i>
  QQ
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://i.loli.net/2020/04/30/x8ILiKaCQYcBJjF.jpg" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-wechat"></i>
  微信
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="mailto:csd758371536@qq.com" class="nav-link external"><i class="iconfont reco-mail"></i>
  邮箱
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>CSS和JS相关知识点总结（内容导航）</span> <!----></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>CSS和JS相关知识点总结（内容导航）</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>csdoker</span>
            
          <span data-v-64685f0e>2015 - </span>
          2020
        </a></span></div></div> <div data-v-19557b78><main class="page"><div class="page-title" style="display:none;"><h1>CSS和JS相关知识点总结（内容导航）</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>csdoker</span></i> <i class="iconfont reco-date" data-v-484a899e><span data-v-484a899e>2017-03-26</span></i> <i class="iconfont reco-eye" data-v-484a899e><span id="/2017/03/26/css%E5%92%8Cjs%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93%EF%BC%88%E5%86%85%E5%AE%B9%E5%AF%BC%E8%88%AA%EF%BC%89/" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-484a899e><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="iconfont reco-tag tags" data-v-484a899e><span class="tag-item" data-v-484a899e>
      JavaScript
    </span><span class="tag-item" data-v-484a899e>
      CSS
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><p>嘛。。貌似距离上次更新博客已经过了一万年？？（雾</p> <p>首先说明一点，五子棋AI本人并没有弃坑，毕竟在没有更好的项目选择的前提下已经把它当做毕业设计了，而且目前已经的进展也还算不错，完成了静态估值函数、极大极小值算法以及效率更高的Alpha-Beta剪枝，那为啥没有更新文章呢？原因有很多，主要还是因为工作方面实在太忙，挤不出时间来进行一些后续的优化，所以就打算暂时搁置下来，等后面再进行系统的开发和优化。</p> <blockquote><p>场外观众内心OS：其实你丫的就是想偷懒吧。。
我：没错！因为目前的重心还是打算放在工作方面的学习上，所以这个项目就暂时会进入一段时间的“休眠”，等空闲时间多了会让它“苏醒”的。</p></blockquote> <p>那么说了这么多，也是时候该进入这篇文章的正题了。
在实习入职前，因为工作需要，经过了一段时间的自学，多多少少补习了下前端方面的基础知识，最后总结下来感觉CSS的知识是最杂、最细的，非常难以系统的记忆，而JS相关的知识点就更多更复杂了，特别是工作中一些实际需求带来的问题，很难有一个系统的解决方案，可能也只有在解决问题的过程中一点一点的去积累吧。入职后，上手做了自己第一个完整的站，从布局到功能，从样式到交互，CSS出现的问题是最多的。JS方面虽然没有什么严重bug，但是一些需求却经常把我难住，比如轮播图、tab切换等等，虽然这些也算是前端常见的功能了，但是因为大都是第一次做，所以也只能临时去网上搜索解决思路。如果每次都临时去搜，这样解决问题的效率肯定是不高的，而且以前遇到过的问题不做一些记录和总结，下次遇到可能还会犯同样的错误，所以我就准备写一写关于CSS和JS的文章，或者说是学习笔记，来总结自己自学过程和工作中遇到的一些“坑”，以后如果再遇到同样的问题，也能有些自己能参考对照的东西。</p> <blockquote><p>PS：这个系列应该会持续更新的。。</p></blockquote> <blockquote><p>2017-7-16 更新
说明：考虑到今后这个系列内容增加后，不利于阅览，故将这篇文章作为一些文章链接的导航页。（此贴只贴出一些内容简短的记录，内容过长将单独开文，并贴出对应链接。）</p></blockquote> <h1 id="css易错、易忘的知识点以及工作中遇到的坑"><a href="#css易错、易忘的知识点以及工作中遇到的坑" class="header-anchor">#</a> CSS易错、易忘的知识点以及工作中遇到的坑</h1> <h3 id="display-inline-block"><a href="#display-inline-block" class="header-anchor">#</a> display:inline-block</h3> <p>在公司做第一个站“益家家事”的过程中，遇到不少兼容性方面的问题，特别是后期做响应式的时候，同行的元素经常会被莫名其妙的挤到其他位置去。究其原因，其实是因为使用了浮动<code>float</code>导致的。</p> <p>那么，不用浮动又怎么让两个块级元素显示在同行呢？
这里就给大家介绍一个display的属性值————<code>inline-block</code>。</p> <p>众所周知，类似div这样的块级元素，默认样式是display:<code>block</code>，也就是默认会有块级元素的性质，比如可以设置宽高、元素宽度默认为父级元素的宽度并且占用一行等等，而像span这样的行内元素，display的默认值就是<code>inline</code>，默认的性质比如有元素不能设置宽高、元素宽度为内容宽度等等。</p> <p>那么如果想让两个块级元素也能在行内并排显示呢？这个时候其实把这两个元素的display改成<code>inline-block</code>就行了。顾名思义，这个属性值的意思就是把元素的显示方式改为了能在行内显示的“块”，说得通俗一点就是这个元素又能在行内显示又能设置宽高，同时具备了块级和行内元素的部分性质，因此最终效果就能像用了浮动那样让两个块级元素也能并排显示了，而且并不会引起浮动的那些兼容问题，可以说非常好用。</p> <p>但是这个时候细心的同学可能会发现一个严重的问题，为什么这两个元素中间还有空隙，而且上下也没有对齐呢？（逼死强迫症啊有木有。。）其实这就是用了<code>inline-block</code>后一定会引起的一个bug，机理这里不细讲（老规矩，详情自行搜索），只说说解决方案。</p> <p>要解决这两个问题，其实很简单，只需要给两个元素的父级元素设置font-size:0，这时两个元素之间的空隙就会消失了，很神奇吧？然后再给错位的那个元素设置vertical-align:top，这样两个元素就能对齐了，so bug fixed。</p> <h3 id="页面使用overflow-scroll后，在ios上滑动出现卡顿"><a href="#页面使用overflow-scroll后，在ios上滑动出现卡顿" class="header-anchor">#</a> 页面使用overflow: scroll后，在IOS上滑动出现卡顿</h3> <p>在使用overflow的元素上，加上：<code>-webkit-overflow-scrolling: touch;</code></p> <p>原理：<em><a href="http://www.jianshu.com/p/1f4693d0ad2d" target="_blank" rel="noopener noreferrer">解决页面使用overflow:scroll在ios上滑动卡顿的问题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em></p> <h3 id="ios端的按钮和输入框自带圆角的问题"><a href="#ios端的按钮和输入框自带圆角的问题" class="header-anchor">#</a> ios端的按钮和输入框自带圆角的问题</h3> <p>两个css样式搞定：</p> <ul><li><code>-webkit-appearance: none;</code> <em>解决ios上按钮的圆角问题</em></li> <li><code>border-radius: 0;</code> <em>解决ios上输入框圆角问题</em></li></ul> <p><em>To be continued...</em></p> <h1 id="工作中遇到的一些js方面的坑"><a href="#工作中遇到的一些js方面的坑" class="header-anchor">#</a> 工作中遇到的一些JS方面的坑</h1> <h3 id="移动端input输入框被手机输入法遮盖"><a href="#移动端input输入框被手机输入法遮盖" class="header-anchor">#</a> 移动端input输入框被手机输入法遮盖</h3> <p>总的来说这是个很蛋疼的问题。。手机上如果input文本输入框靠近屏幕底部的话，那么点击文本框后，手机的输入法会正好遮盖住输入框，这样用户在输入的时候就看不见自己输入的内容。这个问题虽然不算是代码方面的bug，但是从交互的角度来说，对用户的体验是极其不友好的，那么也就是说最终我们肯定还是要想办法解决这个问题。</p> <p>基本思路有很多，比如从设计的角度上讲，可以把输入框设计在上半屏，这样相当于取了个巧，但并没有真正解决问题。而我经过一番百度谷歌后采用的办法是点击输入框时就让屏幕强制滚动到顶部，这样让界面和手机输入法各占一部分屏幕，就完美的解决了问题。代码如下：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex">/Android [4-6]/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>appVersion<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>activeElement<span class="token punctuation">.</span>tagName<span class="token operator">==</span><span class="token string">&quot;INPUT&quot;</span> <span class="token operator">||</span> document<span class="token punctuation">.</span>activeElement<span class="token punctuation">.</span>tagName<span class="token operator">==</span><span class="token string">&quot;TEXTAREA&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                document<span class="token punctuation">.</span>activeElement<span class="token punctuation">.</span><span class="token function">scrollIntoViewIfNeeded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这是微信UI框架weui中给出的解决方法，其他的算法思路还有很多，这里只贴上一些相关资料的链接，具体不再细讲。</p> <ul><li><em><a href="https://www.zhihu.com/question/32746176" target="_blank" rel="noopener noreferrer">移动web页面，input获取焦点弹出系统虚拟键盘时，挡住input，求解决方案？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em></li> <li><em><a href="https://segmentfault.com/a/1190000006243816" target="_blank" rel="noopener noreferrer">移动端iOS第三方输入法遮挡底部input及android键盘回落后留白问题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em></li></ul> <blockquote><p>2017-7-16 更新</p></blockquote> <p>最近在做公司一个H5聊天页的时候，因为input框吸底，所以在一些ios系统的Safari浏览器和部分安卓机型上又会出现手机键盘把输入框遮挡的情况。而因为聊天需求的特殊性，用户必须能够看到自己输入的内容，所以遮挡是必须要解决的，但是这次用以前的办法貌似不灵了（原因未知），不过好在最后还是解决了，先贴代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 解决输入法遮挡 (这里id为的sendInput的元素就是被遮挡的input)</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#sendInput'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>index <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scrollHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>简单说下原理，这里的核心是利用了scrollTop方法，以及scrollHeight这个值。scrollTop在jQuery中是个方法，如果不传参数就是获取当前元素相对滚动条顶部（或者说当前元素的容器顶部）的偏移（以像素计），如果传递参数后，就是设置这个元素的偏移值。（注意：js中scrollTop只能当做一个值来使用，同样可以获取和设置）scrollHeight的意思要好理解一些，就是指元素内容高度，而且scrollHeight是只读，不可设置。获取整个文档的scrollHeight，在IE/FF/CH上可能会出现兼容性问题，导致获取到的scrollHeight为0，这时可以通过<code>document.documentElement.scrollHeight</code>或<code>document.body.scrollHeight</code>获得。
相关资料：
<em><a href="http://www.jianshu.com/p/46087c0ace05" target="_blank" rel="noopener noreferrer">关于scrollHeight和scrollTop取值为0的问题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em></p> <p>除了常见的scrollTop、scrollHeight外，有关浏览器滚动的js和jQuery属性方法还有很多，比如offsetTop、offsetHeight、clientTop、clientHeight等，关于这些值的用法也是个深坑，并且新手非常容易搞混它们的各自的含义，这里不再细讲，以后遇到相关的案例再作探讨。
相关资料：</p> <ul><li><em><a href="http://www.cnblogs.com/trlanfeng/archive/2012/11/04/2753280.html" target="_blank" rel="noopener noreferrer">javascript中top、clientTop、scrollTop、offsetTop的讲解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em></li> <li><em><a href="http://www.cnblogs.com/wyaocn/p/5819774.html" target="_blank" rel="noopener noreferrer">jQuery的height()和JavaScript的height总结，js获取屏幕高度<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em></li> <li><em><a href="http://www.cnblogs.com/nanshanlaoyao/p/5964730.html" target="_blank" rel="noopener noreferrer">clientHeight，scrollHeight，offsetHeight之间的区别及解决方案<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em></li></ul> <h3 id="页面加载时控制滚动条位置默认在底部"><a href="#页面加载时控制滚动条位置默认在底部" class="header-anchor">#</a> 页面加载时控制滚动条位置默认在底部</h3> <p>同样是scrollTop()及scrollHeight的用法，只是项目中因为聊天页面的footer吸底后影响了content这个div的高度，所以需要额外加上footer的高度。再有就是需要注意jQuery对象与js对象的区别，比如这里获取到的content就是一个jQuery对象，必须取第一个数组元素后才能获取到它的scrollHeight。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 页面初始化控制滚动条位置默认在底部</span>
    <span class="token keyword">var</span> footerHeight <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.footer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#content&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#content'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollHeight <span class="token operator">+</span> footerHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="判断页面的滚动方向"><a href="#判断页面的滚动方向" class="header-anchor">#</a> 判断页面的滚动方向</h3> <p>在pc上可以直接用onmousewheel触发对应的滚动事件：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">scrollFunc</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    e <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>wheelDelta<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//判断浏览器IE，谷歌滑轮事件               </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>wheelDelta <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//当滑轮向上滚动时  </span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;滑轮向上滚动&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>wheelDelta <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//当滑轮向下滚动时  </span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;滑轮向下滚动&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>detail<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//Firefox滑轮事件  </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>detail<span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//当滑轮向上滚动时  </span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;滑轮向上滚动&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>detail<span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//当滑轮向下滚动时  </span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;滑轮向下滚动&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>  
<span class="token comment">//给页面绑定滑轮滚动事件  </span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//firefox  </span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMMouseScroll'</span><span class="token punctuation">,</span> scrollFunc<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
<span class="token comment">//滚动滑轮触发scrollFunc方法  //ie 谷歌  </span>
window<span class="token punctuation">.</span>onmousewheel <span class="token operator">=</span> document<span class="token punctuation">.</span>onmousewheel <span class="token operator">=</span> scrollFunc<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>手机上由于onmousewheel无效，所以只能调用scroll方法来判断滚动方向：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">scroll</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">direction</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>direction<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token keyword">function</span> <span class="token function">scroll</span><span class="token punctuation">(</span> <span class="token parameter">fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> beforeScrollTop <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">,</span>
        fn <span class="token operator">=</span> fn <span class="token operator">||</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;scroll&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> afterScrollTop <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">,</span>
            delta <span class="token operator">=</span> afterScrollTop <span class="token operator">-</span> beforeScrollTop<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> delta <span class="token operator">===</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token function">fn</span><span class="token punctuation">(</span> delta <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">&quot;down&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;up&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        beforeScrollTop <span class="token operator">=</span> afterScrollTop<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="判断滚动条是否到达顶部或者底部"><a href="#判断滚动条是否到达顶部或者底部" class="header-anchor">#</a> 判断滚动条是否到达顶部或者底部</h3> <p>判断是否到达顶部比较简单：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 检测滚动条距离顶部的距离是否小于某个值</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>判断是否到达底部相对要复杂点：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#content'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="如何对无序的js对象进行-排序"><a href="#如何对无序的js对象进行-排序" class="header-anchor">#</a> 如何对无序的js对象进行“排序”</h3> <p>在工作中遇到了这么一个情况，需要在前端显示后台接口返回的一个json对象，这个对象后台已经按照一定的顺序排好了，前端只需要依次遍历这个对象，按照原顺序输出对应的值就行了。本来感觉是很简单的一个需求，结果当我像平时遍历数组那样用for in去遍历这个对象的时候，发现遍历出来的顺序乱了。。经过一番百度谷歌后才发现原来js对象本身就是无序的，所以并不能像数组那样保持原顺序的遍历出来。那么这时候有人可能会问，能对这个对象进行一定程度上的“排序”么？虽然这里用排序并不准确，但是我们的目的其实就是想让这个对象按照原来的顺序遍历出结果而已。事实上，这里确实有一种“邪道”（不正规。。）的办法来让对象按照原顺序输出，见代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> objs <span class="token operator">=</span> <span class="token punctuation">{</span>
    f<span class="token operator">:</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'2'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    a<span class="token operator">:</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'3'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    c<span class="token operator">:</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'1'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 按默认排序规则，依照对象的key排序</span>
<span class="token keyword">var</span> sortedObjKeys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>objs<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> index <span class="token keyword">in</span> objs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sortedObjKeys<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objs<span class="token punctuation">[</span>sortedObjKeys<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>核心就是利用了<code>Object.keys(objs).sort</code>获取到排好序的keys，然后依照这个keys来遍历对象，结果确实是能保持原顺序输出对象，很神奇对吧？但是你也许会问，这个默认排序规则和keys到底是神马，我只能说目前暂时不太清楚，不过可以确定的是结果能够正确的输出，至于细节的原理以后再做研究。再多补充一点的是这个sort函数里可以自定义排序规则，这样就可以做到按照自己的规则来对对象进行排序了，怎么样？是不是觉得瞬间怀疑人生了。。
相关资料：
<em><a href="http://blog.csdn.net/sinat_17775997/article/details/52297012" target="_blank" rel="noopener noreferrer">Object.keys()把对象安卓属性名的字幕顺序进行排列<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em> <em><a href="https://segmentfault.com/q/1010000009965553" target="_blank" rel="noopener noreferrer">js中有什么办法能让对象进行排序呢？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em> <em><a href="http://www.cnblogs.com/shinejaie/p/5231195.html" target="_blank" rel="noopener noreferrer">JavaScript获取对象属性和方法<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em></p> <h3 id="ajax中防止快速点击后重复提交请求"><a href="#ajax中防止快速点击后重复提交请求" class="header-anchor">#</a> ajax中防止快速点击后重复提交请求</h3> <p>编辑中。。。</p> <p><em>To be continued...</em></p></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/30/2020, 5:02:31 PM</span></div></footer> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-44bd5a18 data-v-44bd5a18><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-44bd5a18><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-44bd5a18></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-44bd5a18></path></svg></div></div></div>
    <script src="/assets/js/app.8e17b9e3.js" defer></script><script src="/assets/js/3.0a4f9110.js" defer></script><script src="/assets/js/1.f0f01502.js" defer></script><script src="/assets/js/13.49582dc5.js" defer></script>
  </body>
</html>
